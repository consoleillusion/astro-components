---
import path from 'node:path'
import Layout       from "@layouts/Layout.astro"

const imports =
  { ...(import.meta.glob('@components/**/*.astro', { eager: true }))
  , ...(import.meta.glob('@blocks/**/*.astro', { eager: true }))
  }
const components = Object.entries(imports)
                   .reduce
                   ( (acc,cur) => {
                       const name = (cur[0].split('/').slice(-2,-1))
                       acc[name] = cur[1].default 
                       return acc
                     }
                   , {}
                   )

const meta={}
const hero={}
const map={}
const openingHours=[]
const links=[]
const images = [{src:"",caption:"",background:""}]
console.log(components)
---

<Layout {...meta}>
  <components.Navigation {links}/>
  <main>
    <components.Hero {...hero}/>
    <components.CardGrid />
    <components.Window>
      <components.Quote/>
    </components.Window>
    <components.CardGrid />
    <components.Column />
  </main>
  <components.Footer/>
</Layout>


    <!--
    <components.Map height="23rem" />
    <components.Gallery itemWidth="40ch" itemHeight="20ch" {images} />
    <components.MediaText id="about-us"/>

    <Column></Column>
    <Columns id="menu">
    <Field/>
    <components.Button text="hi"/>
    <Menu />
    <Testimonial />
    <AboutUs />
    <FindUs {...openingHours} {...map}/>
    -->
